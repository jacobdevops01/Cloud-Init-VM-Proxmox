## üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Cloud-Init –≤ Proxmox (–ø–æ—à–∞–≥–æ–≤–æ)
üì¶ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
üì• –°–∫–∞—á–∏–≤–∞–µ–º Ubuntu Cloud-image

–ú–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ —á–µ—Ä–µ–∑ Proxmox Shell:
```bash
wget https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img
```
–≠—Ç–æ –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Cloud-Init.
üõ† 2. –°–æ–∑–¥–∞–Ω–∏–µ VM-–∑–∞—Ö–æ–¥–∫–∏ –ø–æ–¥ —à–∞–±–ª–æ–Ω

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Proxmox Create VM:

üìå Basic settings:
<img width="715" height="539" alt="1" src="https://github.com/user-attachments/assets/a677b250-ee50-4c09-a9f5-94f2388d2ea7" />
<img width="715" height="533" alt="{574A9B68-CF0C-44EC-9F47-827CB0F8D0B6}" src="https://github.com/user-attachments/assets/c5c7a2d6-31d7-4fae-b8c2-458754a7a25f" />
<img width="714" height="533" alt="2" src="https://github.com/user-attachments/assets/eaaa71cb-312e-4606-ab56-43c0b1e55236" />
<img width="620" height="462" alt="4" src="https://github.com/user-attachments/assets/30686c6c-b46b-4368-85d1-13e2b0198cf7" />
<img width="622" height="459" alt="5" src="https://github.com/user-attachments/assets/40cf105c-04ed-4d68-9967-696847b4e8d3" />
<img width="622" height="464" alt="6" src="https://github.com/user-attachments/assets/f4dbf619-1261-4436-8059-9e907261f72b" />
<img width="722" height="539" alt="{C3EE4AEB-6DC4-4AF5-8315-38A7758D3D30}" src="https://github.com/user-attachments/assets/5a9be131-8f9f-40d1-a406-0fcf86fa3201" />
<img width="711" height="523" alt="{E3AD41BE-96A1-48F4-9F3B-454749F707B6}" src="https://github.com/user-attachments/assets/0bae7fee-a42a-418e-88bd-1671391a8220" />
<img width="622" height="462" alt="7" src="https://github.com/user-attachments/assets/f53c2d63-7ff6-4bf4-9bb0-a0e87e5bf44c" />
‚òÅ 3. –ò–º–ø–æ—Ä—Ç cloud-image –≤ VM

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è VM:

–ß–µ—Ä–µ–∑ CLI:
```bash
qm importdisk 999 jammy-server-cloudimg-amd64.img local-lvm
```
–≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–∑ –≤ local-lvm.

üìÄ 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VM disks

–ü–æ–¥–∫–ª—é—á–∞–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏—Å–∫ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π:
```bash
qm set 999 --scsihw virtio-scsi-pci \
           --scsi0 local-lvm:vm-999-disk-0
```
–î–æ–±–∞–≤–ª—è–µ–º –¥–∏—Å–∫ Cloud-Init:
```bash
qm set 999 --ide2 local-lvm:cloudinit
```
–ò –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏:
```bash
qm set 999 --boot c --bootdisk scsi0
```
–î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Å–æ–ª—å:
```bash
qm set 9000 --serial0 socket --vga serial0
–≠—Ç–æ —á—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≤–æ–¥.
```


–°–†–ê–ó–£ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–∏—Å–∫ –¥–æ 20 GB
```bash
qm resize 999 scsi0 20G
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ VM Cloud-init –∏ –ø–∏—à–µ–º:
<img width="709" height="409" alt="{EBE3BD36-23A3-442C-86AB-5543B2215446}" src="https://github.com/user-attachments/assets/4bd1ea18-b7a8-4ebe-b447-c8d3bf545a7c" />

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–µ–º –≤–∫–ª—é—á–∏—Ç—å –Ω–∞—à VM.


## ‚òÅÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ Cloud-Init –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

Cloud-Init ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

### üß† –ê–Ω–∞–ª–æ–≥–∏—è

–ë–µ–∑ Cloud-Init:

–¢—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—Ä—É—á–Ω—É—é —Å–æ–±–∏—Ä–∞–µ—à—å –∫–æ–º–ø—å—é—Ç–µ—Ä —Å –Ω—É–ª—è

–° Cloud-Init:

–¢—ã –≤–∫–ª—é—á–∞–µ—à—å –∫–æ–º–ø—å—é—Ç–µ—Ä, –∏ –æ–Ω —É–∂–µ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

üîß –ß—Ç–æ Cloud-Init –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –í–ú –æ–Ω –º–æ–∂–µ—Ç:

üë§ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

üîë –¥–æ–±–∞–≤–∏—Ç—å SSH-–∫–ª—é—á

üåê –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ç—å (DHCP / Static IP)

üè∑ –∑–∞–¥–∞—Ç—å hostname

üì¶ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã

üê≥ –ø–æ—Å—Ç–∞–≤–∏—Ç—å Docker

üìú –≤—ã–ø–æ–ª–Ω–∏—Ç—å shell-—Å–∫—Ä–∏–ø—Ç—ã

–ò –≤—Å—ë —ç—Ç–æ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.

üñ• –ü—Ä–∏–º–µ—Ä: –±–µ–∑ Cloud-Init

–ö–∞–∂–¥–∞—è –í–ú:
```bash
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ubuntu
- –ó–∞–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ç—å

‚ùå –¥–æ–ª–≥–æ
‚ùå –æ—à–∏–±–∫–∏
‚ùå –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ
```
‚òÅÔ∏è –ü—Ä–∏–º–µ—Ä: —Å Cloud-Init

–¢—ã –¥–µ–ª–∞–µ—à—å –æ–¥–∏–Ω template, –∞ –¥–∞–ª—å—à–µ:
```bash
- –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–ª –í–ú
- –£–∫–∞–∑–∞–ª IP
- –£–∫–∞–∑–∞–ª SSH –∫–ª—é—á
- –ó–∞–ø—É—Å—Ç–∏–ª

‚úÖ –±—ã—Å—Ç—Ä–æ
‚úÖ –æ–¥–∏–Ω–∞–∫–æ–≤–æ
‚úÖ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ
```

üöÄ –ó–∞—á–µ–º Cloud-Init –≤ DevOps

Cloud-Init ‚Äî —ç—Ç–æ –±–∞–∑–∞ DevOps-–ø–æ–¥—Ö–æ–¥–∞:

üß± Infrastructure as Code

üîÅ –ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å

ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

‚òÅÔ∏è –û–±–ª–∞–∫–∞ –∏ Proxmox

üõ† Terraform + Ansible

üëâ Terraform —Å–æ–∑–¥–∞—ë—Ç –í–ú
üëâ Cloud-Init –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –û–° –≤–Ω—É—Ç—Ä–∏

‚úÖ –ò—Ç–æ–≥ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π

Cloud-Init –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –í–ú –±—ã–ª–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ‚Äî –±–µ–∑ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
